
 Problem:
In real projects, we don‚Äôt run one query alone.
We run many queries together, and if one fails, everything should stop.

  ==>This chapter teaches you how to:
Run many queries safely
Avoid big mistakes
Write clean and professional SQL

=======>>> REAL-LIFE EXAMPLE (VERY IMPORTANT)
Imagine:
You are transferring money in a bank 
Step 1: Remove money from Account A
Step 2: Add money to Account B
 * If step 2 fails and step 1 already happened ‚Üí BIG PROBLEM

 *Solution ‚Üí TRANSACTION
SQL transactions work the same way.
===== STEP 1: What is a Transaction?
A transaction is a group of SQL commands that work together.
Either ALL succeed
Or ALL are cancelled
===== STEP 2: Transaction keywords (MEMORIZE THIS)
Keyword	Meaning
START TRANSACTION	Start safe mode
COMMIT	Save everything
ROLLBACK	Cancel everything
===== STEP 3: Basic Transaction Structure
START TRANSACTION;
-- SQL commands here
COMMIT;
If something goes wrong  ‚Üí use ROLLBACK

====== STEP 4: Why is this IMPORTANT?
Without transaction:
INSERT works
UPDATE fails
Database becomes inconsistent
With transaction:

If one query fails ‚Üí nothing is saved
   ==Database stays clean and correct

======= STEP 5: Full Example (Explained line by line)
Scenario:
You want to:
Add an article
Update a user email
Delete a comment
All must succeed together

üîπ Step 5.1: Start transaction
START TRANSACTION;
   SQL enters safe mode

üîπ Step 5.2: INSERT (add data)
INSERT INTO Article (titre, contenu, date_pub, id_utilisateur)
VALUES ('New post', 'Example text', '2025-07-18', 1);
Adds a new article
     ¬®^ If id_utilisateur = 1 does not exist ‚Üí ERROR

üîπ Step 5.3: UPDATE (modify data)
UPDATE Utilisateur
SET email = 'alice.update@test.com'
WHERE id = 1;
 Updates only one user
 WHERE is mandatory

üîπ Step 5.4: DELETE (remove data)
DELETE FROM Commentaire
WHERE id = 3;
 Deletes only one comment

üîπ Step 5.5: COMMIT (save)
COMMIT;
 All changes are saved permanently

======= STEP 6: What if something goes wrong?

If you see an error :

ROLLBACK;


‚úîÔ∏è Everything is cancelled
‚úîÔ∏è Database returns to original state

===== STEP 7: COMMENTS (Very important for good code)
Single-line comment
-- This deletes old comments

Multi-line comment
/* 
This script manages blog data
Insert + Update + Delete
*/
 SUMMARY 
Combined queries = many SQL commands together
Transactions protect your database
COMMIT saves
ROLLBACK cancels
WHERE prevents disasters
Comments = clean code