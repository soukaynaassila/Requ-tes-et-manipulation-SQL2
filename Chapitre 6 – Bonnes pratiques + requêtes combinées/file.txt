
â— Problem:
In real projects, we donâ€™t run one query alone.
We run many queries together, and if one fails, everything should stop.

ğŸ‘‰ This chapter teaches you how to:

Run many queries safely
Avoid big mistakes
Write clean and professional SQL

ğŸ§  REAL-LIFE EXAMPLE (VERY IMPORTANT)

Imagine:

You are transferring money in a bank ğŸ’³

Step 1: Remove money from Account A

Step 2: Add money to Account B

âŒ If step 2 fails and step 1 already happened â†’ BIG PROBLEM

âœ”ï¸ Solution â†’ TRANSACTION

SQL transactions work the same way.

ğŸ¥‡ STEP 1: What is a Transaction?

A transaction is a group of SQL commands that work together.

Either ALL succeed

Or ALL are cancelled

ğŸŸ¦ STEP 2: Transaction keywords (MEMORIZE THIS)
Keyword	Meaning
START TRANSACTION	Start safe mode
COMMIT	Save everything
ROLLBACK	Cancel everything
ğŸ¥‰ STEP 3: Basic Transaction Structure
START TRANSACTION;

-- SQL commands here

COMMIT;


If something goes wrong â›” â†’ use ROLLBACK

ğŸŸ¨ STEP 4: Why is this IMPORTANT?

Without transaction:

INSERT works

UPDATE fails

Database becomes inconsistent

With transaction:

If one query fails â†’ nothing is saved

âœ”ï¸ Database stays clean and correct

ğŸ§© STEP 5: Full Example (Explained line by line)
Scenario:

You want to:

Add an article

Update a user email

Delete a comment
ğŸ‘‰ All must succeed together

ğŸ”¹ Step 5.1: Start transaction
START TRANSACTION;


â¡ï¸ SQL enters safe mode

ğŸ”¹ Step 5.2: INSERT (add data)
INSERT INTO Article (titre, contenu, date_pub, id_utilisateur)
VALUES ('New post', 'Example text', '2025-07-18', 1);


â¡ï¸ Adds a new article
âš ï¸ If id_utilisateur = 1 does not exist â†’ ERROR

ğŸ”¹ Step 5.3: UPDATE (modify data)
UPDATE Utilisateur
SET email = 'alice.update@test.com'
WHERE id = 1;


â¡ï¸ Updates only one user
â— WHERE is mandatory

ğŸ”¹ Step 5.4: DELETE (remove data)
DELETE FROM Commentaire
WHERE id = 3;


â¡ï¸ Deletes only one comment

ğŸ”¹ Step 5.5: COMMIT (save)
COMMIT;


âœ”ï¸ All changes are saved permanently

ğŸŸ¥ STEP 6: What if something goes wrong?

If you see an error âŒ:

ROLLBACK;


âœ”ï¸ Everything is cancelled
âœ”ï¸ Database returns to original state

ğŸŸ© STEP 7: COMMENTS (Very important for good code)
Single-line comment
-- This deletes old comments

Multi-line comment
/* 
This script manages blog data
Insert + Update + Delete
*/


âœ”ï¸ Makes SQL readable
âœ”ï¸ Very important in teamwork

ğŸ›¡ï¸ STEP 8: SQL BEST PRACTICES (EXAM QUESTIONS ğŸ”¥)
âœ… Always do this:

Use WHERE with UPDATE & DELETE

Use transactions for multiple queries

Write comments

Test with SELECT first

âŒ NEVER do this:
DELETE FROM Article;


ğŸš¨ This deletes ALL DATA

âœ”ï¸ Safe way:
SELECT * FROM Article WHERE date_pub < '2024-01-01';


Then:

DELETE FROM Article WHERE date_pub < '2024-01-01';

ğŸ§¾ FINAL SUMMARY (VERY SIMPLE)

Combined queries = many SQL commands together

Transactions protect your database

COMMIT saves

ROLLBACK cancels

WHERE prevents disasters

Comments = clean code